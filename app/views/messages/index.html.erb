<!--<h1>Messages#index</h1>-->
<!--<p>Find me in app/views/messages/index.html.erb</p>-->

<div class="panel panel-default">
  <div class="panel-heading">
    メッセージ一覧
  </div>
    
  <div class="panel-body">
    <% index = 0 %>
    <% @messages.each do |message| %>
      <% index += 1 %>
      <span class="label label-info"><%= message.name %></span>
      <%= message.body %>
      <!--最後の行だけ「New!」を表示する。-->
      <% if index == @messages.count then %>
      <span class="label label-warning">New!</span>
      <% end %>
      <!--New!の表示終わり-->
      <br>
    <% end %>
  </div>
</div>

<%= form_for(Message.new) do |f| %>

  <% if @message.errors.present? %>
    <div class="alert alert-danger">
      <%= alert %>
      <ul>
        <% @message.errors.full_messages.each do |full_message| %>
          <li>
            <%= full_message %>
          </li>
        <% end %> 
      </ul>
    </div>
  <% end %>

  <br/>
  <div class="input-group">
    <span class="input-group-addon" id="basic-addon1">名前</span>
    <%= f.text_field :name, class: 'form-control' %>
  </div>
  
  <div class="input-group">
    <span class="input-group-addon" id="basic-addon1">内容</span>
    <%= f.text_area :body, :cols => "50", :rows => "10", class: 'form-control' %>
  </div>
  
  <br/>
  <i class="glyphicon glyphicon-send">　</i>
  <%= f.submit "投稿", class: "btn btn-sm btn-primary" %>
<% end %>
